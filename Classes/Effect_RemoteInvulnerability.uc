class Effect_RemoteInvulnerability extends RPGEffect;

var float ExpPerDamage;

var float EstimatedRunTime;

function bool ShouldDisplayEffect()
{
    return true;
}

state Activated
{
    function BeginState()
    {
        Super.BeginState();
        Instigator.Controller.bGodMode = True;
    }

    function EndState()
    {
        Super.EndState();
        if(!class'Artifact_Invulnerability'.static.IsActiveFor(Instigator))
            Instigator.Controller.bGodMode = False;
        if(EffectOverlay != None)
            class'Sync_OverlayMaterial'.static.Sync(Instigator, EffectOverlay, 0, true);
    }
}

function Destroyed()
{
    Super.Destroyed();
    if(!class'Artifact_Invulnerability'.static.IsActiveFor(Instigator))
        Instigator.Controller.bGodMode = False;
    if(EffectOverlay != None)
        class'Sync_OverlayMaterial'.static.Sync(Instigator, EffectOverlay, 0, true);
}

defaultproperties
{
    EstimatedRunTime=8
    EffectOverlay=Shader'GlobeOverlay'
    EffectMessageClass=Class'EffectMessage_Invulnerability'
    bHarmful=False
    bAllowOnTeammates=True
    bAllowOnFlagCarriers=False
}
